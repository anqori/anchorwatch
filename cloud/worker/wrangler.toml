name = "anqori-anchorwatch-relay"
main = "src/index.js"
compatibility_date = "2026-02-12"
workers_dev = false
routes = [{ pattern = "aw-cloud.anqori.com", custom_domain = true }]

[vars]
ALLOWED_ORIGIN = "*"
BUILD_VERSION = "run-unknown"
# Optional non-secret boat scope lock (auth still uses BOAT_SECRET secret).
# BOAT_ID = "boat_demo_001"

[env.dev]
name = "anqori-anchorwatch-relay-dev"
workers_dev = false
routes = [{ pattern = "dev-aw-cloud.anqori.com", custom_domain = true }]

[env.dev.vars]
ALLOWED_ORIGIN = "*"
BUILD_VERSION = "dev-unknown"
# Optional non-secret boat scope lock for dev lane.
# BOAT_ID = "boat_demo_dev_001"

[[durable_objects.bindings]]
name = "BOAT_PIPE"
class_name = "BoatPipeDurableObject"

[[migrations]]
tag = "v1"
new_classes = ["BoatPipeDurableObject"]
